!function (t) { t.fn.cDropdown = function (n) { return this.each(function () { function e() { var n; t.grep(d.obj, function (e, i) { t.each(e, function (t, e) { return l(e, "Primary", !0) ? (n = l(e, "Primary", !0), !1) : void 0 }) }), a(n), o(d.obj, n), i(n), u(n.Id) } function i(n) { var e = null != n.Id ? "#" + n.Id : null != n.Name ? '[Name="' + n.Name + '"]' : ""; t("body").on("change", e, function () { var a = t(e).find('option[value="CPreQVa"]'); if (a.val() != t(this).find("option:selected").val()) { var o, u = t(this).attr("class").split("cTrig_")[1], c = t(this).find("option:selected").val(); if (t("#" + u).is('[class*="cTrig_"]') && r(t("#" + u)), t.each(d.obj[0], function (t, n) { return null != l(n, "Id", u) ? (o = l(n, "Id", u), !1) : void 0 }), t("#" + u).find("option").remove(), null != o) { if (t.each(o.option, function (n, e) { var i = "" + e.trigger; if (-1 != i.indexOf(",")) { var r = i.split(","); t.each(r, function (n, i) { return c == i || 1 == e.preSelect ? (t("#" + u).append(t("<option></option>").attr("value", e.val).text(e.text)), !1) : void 0 }) } else (c == e.trigger || 1 == e.preSelect) && t("#" + u).append(t("<option></option>").attr("value", e.val).text(e.text)) }), null != o.Sort && o.Sort === !0) { var s = t("#" + u).find("option"), p = s.map(function (n, e) { return { t: t(e).text(), v: e.value } }).get(); p.sort(function (t, n) { return t.t > n.t ? 1 : t.t < n.t ? -1 : 0 }), s.each(function (n, e) { e.value = p[n].v, t(e).text(p[n].t) }) } var f; t.each(o.option, function (t, n) { return f = l(n, "preSelect", !0), !1 }), null != f && t("#" + u).find('option[value="CPreQVa"]').prependTo(t("#" + u)).attr("selected", !0), t("#" + u).show(); var v; t.each(d.obj[0], function (t, e) { return l(e, "Id", n.Child) ? (v = l(e, "Id", n.Child), !1) : void 0 }), null != v && null != v.Child && i(v) } } else { var u = t(this).attr("class").split("cTrig_")[1]; t("#" + u).is('[class*="cTrig_"]') && r(t("#" + u)), t("#" + u).hide() } }) } function r(n) { var e = t(n).attr("class").split("cTrig_")[1]; t("#" + e).is('[class*="cTrig_"]') && r(t("#" + e)), t("#" + e).hide() } function a(n) { if (null != n.Id && c.attr("Id", n.Id), null != n.Name && c.attr("Name", n.Name), null != n.Class && c.addClass(n.Class + " cTrig_" + n.Child), t.each(n.option, function (n, e) { c.append(t("<option></option>").attr("value", e.val).text(e.text)) }), null != n.Required && c.prop("required", !0), null != n.Sort && n.Sort === !0) { var e = c.find("option"), i = e.map(function (n, e) { return { t: t(e).text(), v: e.value } }).get(); i.sort(function (t, n) { return t.t > n.t ? 1 : t.t < n.t ? -1 : 0 }), e.each(function (n, e) { e.value = i[n].v, t(e).text(i[n].t) }) } var r; t.each(n.option, function (t, n) { return r = l(n, "preSelect", !0), !1 }), null != r && c.find('option[value="CPreQVa"]').prependTo(c).attr("selected", !0) } function l(t, n, e) { return t.hasOwnProperty(n) && t[n] === e ? t : void 0 } function o(n, e) { t.each(n[0], function (n, i) { if (i.Id != e.Id) { var r = t("<select>"); null != i.Id && r.attr("Id", i.Id), null != i.Name && r.attr("Name", i.Name), null != i.Class && r.addClass(i.Class), null != i.Required && r.prop("required", !0), null != i.Child && r.addClass("cTrig_" + i.Child), r.hide(), c.after(r) } }) } function u(n) { var e; t("#" + n).is('[class*="cTrig_"]') && (e = t("#" + n).attr("class").split("cTrig_")[1], t("#" + n).after(t("#" + e)), u(e)) } var c = t(this), d = t.extend({ obj: "" }, n || {}); e() }) } }(jQuery);